<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Weekly Math Puzzles</title>
  
  <link rel="icon" href="static/images/logo.png" type="image/x-icon" />
  <link rel="stylesheet" href="static/style-general.css">
  <link rel="stylesheet" href="static/style-index.css">
  <link rel="stylesheet" href="static/style-header.css">

  <script>
    function sub(correctId){
        var elem = document.getElementById("form-answers");
        var radioButtons = document.getElementsByName("answer");
        var res = document.getElementsByClassName("result");
        var counter = 0;
        var selectedId = 1;
        var formButton = document.getElementById("submitForm").getElementsByClassName("button")[0];

        if (formButton.value == "Submit"){
            for (let radio of radioButtons){
                counter++;

                if (radio.checked) {
                    selectedId = counter;
                }
            }
            

            if (selectedId == correctId) {
                res[0].innerHTML = "Correct answer!";
            }
            else {
                res[0].innerHTML = "Wrong answer!";
            }

            res[0].style.display = "flex";
            formButton.value = "Back";
            elem.style.display = "none";
        }
        else {
            formButton.value = "Submit";
            elem.style.display = "flex";
            res[0].style.display = "none";
        }

    }
  </script>
</head>
<body>

    <nav class="header">
        <img src="static/images/logo.png" alt="Weekly Math Puzzles" style="width:70px;height:70px;margin-left:50px;margin-top: 15px; margin-bottom: 15px; margin-right: 50px;">
        <a href=""><button type="button" class="header-button button" id="highlighted-button">This week</button></a><!--
        --><a href="/archive"><button type="button" class="header-button button">Archive</button></a><!--
        --><a href="/leaderboard"><button type="button" class="header-button button">Leaderboard</button></a>
    </nav>

    <div class="youtube">
        I am working on this site while streaming on youtube! Check me out at <a href="">youtube.com/@RandomWalkItalia</a> 
    </div>

    <div class="question">
        {% autoescape off %}{{question.text}}{% endautoescape %}
    </div>
    
    <div class="answers">
        <form id="form-answers">
            <input type="radio" name="answer" id="ans1"><label class="answer" for="ans1">{% autoescape off %}{{question.ans1}}{% endautoescape %}</label>
            <input type="radio" name="answer" id="ans2"><label class="answer" for="ans2">{% autoescape off %}{{question.ans2}}{% endautoescape %}</label>
            <input type="radio" name="answer" id="ans3"><label class="answer" for="ans3">{% autoescape off %}{{question.ans3}}{% endautoescape %}</label>
            <input type="radio" name="answer" id="ans4"><label class="answer" for="ans4">{% autoescape off %}{{question.ans4}}{% endautoescape %}</label>
            <input type="radio" name="answer" id="ans5"><label class="answer" for="ans5">{% autoescape off %}{{question.ans5}}{% endautoescape %}</label>
        </form>

        <div class="result"></div>

        <div id="submitForm">
            <input class="button" type="button" value="Submit" onclick="sub('{{question.correctAnswer}}')">
        </div>
    </div>

    


</body>
</html>